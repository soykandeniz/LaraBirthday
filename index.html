<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Happy Birthday To Tenzile</title>
  <!-- Made with love for you, my darling - 2016.5.14 -->

  <link rel="stylesheet" href="css/reset.css">
  <link rel="stylesheet" href="css/animate.min.css" />
  <link rel="stylesheet" href="css/style.css" media="screen" type="text/css" />
  <link rel="stylesheet" href="css/default.css" type="text/css" rel="stylesheet">
  <link rel="stylesheet" href="css/quiz.css" type="text/css" rel="stylesheet">
  <link rel="stylesheet" href="css/clue.css" type="text/css" rel="stylesheet">
  
  <!-- Loading fullpage.js -->
  <link rel="stylesheet" type="text/css" href="css/jquery.fullPage.css" />

  <style>
    /* FIX 1: Better quiz container visibility control */
    .quiz-container {
      display: none !important;
    }
    
    .quiz-container.show-quiz {
      display: block !important;
      opacity: 1 !important;
      visibility: visible !important;
    }
    
    /* FIX 2: Media container for showing both map and photos */
    .location-media {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      margin: 15px 0;
      justify-content: center;
    }
    
    /* FIX 3: Desktop appearance improvements */
    @media (min-width: 992px) {
      .clue-card {
        max-width: 900px; 
        margin: 0 auto;
      }
      
      .quiz-container {
        max-width: 900px;
        margin: 0 auto;
      }
    }
  </style>
</head> 

<body>
<div id="fullpage">
    
    <div id="firstsection" class="section">
        <div class="velas">
            <div class="fuego"></div>
            <div class="fuego"></div>
            <div class="fuego"></div>
            <div class="fuego"></div>
            <div class="fuego"></div>
        </div>
        
        <embed id="cake" src="cake.svg" width="200px" height="500px" type="image/svg+xml" pluginspage="http://www.adobe.com/svg/viewer/install/" />
        <div class="text">
              <h1>happy birthday!</h1>
              <p>Tenzile</p>
        </div>
    </div>

    <!-- Heart Animation Section -->
    <div class="section">
        <div style="position:relative; height:100%;">
            <div id="mainDiv">
                <div id="content">
                    <div id="loveHeart">
                    <canvas id="garden" width="670" height="625"></canvas>
                        <div id="words">
                            <div id="messages">
                                Tenzile, you've lived for
                                <div id="elapseClock"></div>
                            </div>
                            <div id="loveu">
                                Every moment with you feels like magic, <br />
                                Your smile lights up my entire world.<br />
                                You are the melody in my heart's song.<br />
                                Every day with you is a beautiful journey.<br />
                                <span style="color:#FFFFFF">
                                    <big>
                                        Happy Birthday!
                                    </big>
                                </span>
                                <br />
                                <div class="signature">
                                    - Forever Yours
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <canvas id="canvas" style="position:absolute; left:0; top:0; width:100%; height:100%; z-index:1;"></canvas>
        </div>
    </div>
    
    <!-- Anniversary Section -->
    <div class="section">
        <!-- Clue component for the Anniversary section -->
        <div class="clue-card">
            <div class="clue-title">Golden Gate Bridge Memory</div>
            <div class="clue-content">
                Remember our walk across the Golden Gate Bridge? The foggy morning gave way to sunshine, just like how you brighten my days. The date engraved on the bridge plaque reminded me of our special day.
            </div>
            <!-- Media container with both map and photo -->
            <div class="location-media">
                <!-- Google Maps Embed -->
                <iframe class="location-map" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d50480.53927096764!2d-122.49399524179687!3d37.819687900000004!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x808586deffffffc3%3A0xcded139783705509!2sGolden%20Gate%20Bridge!5e0!3m2!1sen!2sus!4v1627318472232!5m2!1sen!2sus" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
                <!-- Add photo from Unsplash -->
                <img class="location-photo" src="https://images.unsplash.com/photo-1501594907352-04cda38ebc29?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&h=400&q=80" alt="Golden Gate Bridge">
            </div>
            <div class="clue-hint">A bridge between two lives, joined on a day in May...</div>
            <button class="reveal-question-btn">I'm Here, Show Me the Question!</button>
        </div>
        
        <!-- Quiz Container (initially hidden) -->
        <div class="quiz-container">
            <div class="quiz-question">When did we become husband and wife?</div>
            <input type="text" class="quiz-input" data-answer="may 17" data-alt-answers="may 17th,17 may,17th may" placeholder="Type your answer...">
            <button class="quiz-submit">Submit</button>
            <div class="quiz-feedback"></div>
        </div>
        
        <div class="text">
             <h1>May 17th is your <em>special day</em></h1>
             <p>And it's also been one wonderful year since I became your husband</p>
        </div>
        <div id="boyfriend"></div>
    </div>
    
    <!-- Memories Section -->
    <div class="section">
        <!-- Clue component for the Memories section -->
        <div class="clue-card">
            <div class="clue-title">Stanford Library Whispers</div>
            <div class="clue-content">
                The Stanford library where we spent countless hours together. Between the ancient books and modern technology, we found joy in simply being together, whether reading quietly or playing games in the courtyard after studying.
            </div>
            <!-- Media container with both map and photo -->
            <div class="location-media">
                <!-- Google Maps Embed -->
                <iframe class="location-map" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3168.2774110444347!2d-122.1688076847951!3d37.42757507982534!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x808fbae891e859ed%3A0x122def7e26c92b85!2sGreen%20Library%2C%20450%20Serra%20Mall%2C%20Stanford%2C%20CA%2094305!5e0!3m2!1sen!2sus!4v1627318732651!5m2!1sen!2sus" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
                <!-- Add photo from Unsplash -->
                <img class="location-photo" src="https://images.unsplash.com/photo-1541339907198-e08756dedf3f?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&h=400&q=80" alt="Stanford Library">
            </div>
            <div class="clue-hint">Books of knowledge and screens of play, what did we enjoy most in those shared days?</div>
            <button class="reveal-question-btn">I'm Here, Show Me the Question!</button>
        </div>
        
        <!-- Quiz Container (initially hidden) -->
        <div class="quiz-container">
            <div class="quiz-question">What's one of our favorite activities to do together?</div>
            <input type="text" class="quiz-input" data-answer="study" data-alt-answers="playing,study together,play together,reading,gaming" placeholder="Type your answer...">
            <button class="quiz-submit">Submit</button>
            <div class="quiz-feedback"></div>
        </div>
        
        <div class="text">
            <h1>We've shared so many beautiful moments this year...</h1>
            <p>Every minute together, whether studying or playing, has been precious</p>
        </div>
        <div style="padding: 1em 20%; width: 220px; margin: 0 auto;">
            <div id="book"></div>
            <div id="psp"></div>
        </div>
    </div>
    
    <!-- Love Yourself Section -->
    <div class="section">
        <!-- Clue component for the Love Yourself section -->
        <div class="clue-card">
            <div class="clue-title">Muir Woods Reflection</div>
            <div class="clue-content">
                Under the ancient redwoods of Muir Woods, we found mirrors in nature. Just as I told you while standing beneath those towering trees â€” the way you care for these living monuments reflects how you should care for yourself.
            </div>
            <!-- Media container with both map and photo -->
            <div class="location-media">
                <!-- Google Maps Embed -->
                <iframe class="location-map" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3146.6026716234634!2d-122.57717698477715!3d37.8992332797328!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x80859a6d00690021%3A0x4a501367f076adff!2sMuir%20Woods%20National%20Monument!5e0!3m2!1sen!2sus!4v1627318855736!5m2!1sen!2sus" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
                <!-- Add photo from Unsplash -->
                <img class="location-photo" src="https://images.unsplash.com/photo-1511497584788-876760111969?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&h=400&q=80" alt="Muir Woods Redwoods">
            </div>
            <div class="clue-hint">The words I whispered beneath ancient trees... a truth about love for oneself and others</div>
            <button class="reveal-question-btn">I'm Here, Show Me the Question!</button>
        </div>
        
        <!-- Quiz Container (initially hidden) -->
        <div class="quiz-container">
            <div class="quiz-question">Complete this sentence: "Always cherish yourself as much as..."</div>
            <input type="text" class="quiz-input" data-answer="i cherish you" data-alt-answers="i love you,i do" placeholder="Type your answer...">
            <button class="quiz-submit">Submit</button>
            <div class="quiz-feedback"></div>
        </div>
        
        <div class="text">
            <h1>Always cherish yourself as much as I cherish you</h1>
            <div id="tenzile"></div>
        </div>
    </div>
    
    <!-- Future Section -->
    <div class="section">
        <!-- Clue component for the Future section -->
        <div class="clue-card">
            <div class="clue-title">Half Moon Bay Sunset</div>
            <div class="clue-content">
                At Half Moon Bay, watching the sun set over endless possibilities, we talked about our future. As the waves crashed against the shore, I reminded you of the most important quality needed for any journey ahead.
            </div>
            <!-- Media container with both map and photo -->
            <div class="location-media">
                <!-- Google Maps Embed -->
                <iframe class="location-map" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d50697.92806178875!2d-122.48549351347655!3d37.46359699999999!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x808f731b33e1c81b%3A0x52ecd5e2d3f6d282!2sHalf%20Moon%20Bay%20State%20Beach!5e0!3m2!1sen!2sus!4v1627318932736!5m2!1sen!2sus" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
                <!-- Add photo from Unsplash -->
                <img class="location-photo" src="https://images.unsplash.com/photo-1500520198921-6d4704f98092?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&h=400&q=80" alt="Half Moon Bay Sunset">
            </div>
            <div class="clue-hint">To face the unknown horizon requires something from within...</div>
            <button class="reveal-question-btn">I'm Here, Show Me the Question!</button>
        </div>
        
        <!-- Quiz Container (initially hidden) -->
        <div class="quiz-container">
            <div class="quiz-question">What quality do you need for your future journey?</div>
            <input type="text" class="quiz-input" data-answer="confidence" data-alt-answers="courage,bravery,strength" placeholder="Type your answer...">
            <button class="quiz-submit">Submit</button>
            <div class="quiz-feedback"></div>
        </div>
        
        <div class="text">
            <h1>In all your future days ahead</h1>
            <p>May you walk forward with confidence and courage!</p>
            <p><img id="tenzile_archer" src="photo/IMG_20160305_183003.png"></p>
        </div>
    </div>		
    
    <!-- Song Section -->
    <div class="section">
        <!-- Clue component for the Song section -->
        <div class="clue-card">
            <div class="clue-title">Fillmore Street Melodies</div>
            <div class="clue-content">
                Remember our evening at the jazz concert on Fillmore Street? The music filled the air and brought smiles to our faces. Music has a special way of connecting to our emotions, just like this song I've chosen for you.
            </div>
            <!-- Media container with both map and photo -->
            <div class="location-media">
                <!-- Google Maps Embed -->
                <iframe class="location-map" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3153.9407863675473!2d-122.43530968478314!3d37.78423587975805!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x808580bba1596e51%3A0x5e8b569f611b66f5!2sFillmore%20St%2C%20San%20Francisco%2C%20CA!5e0!3m2!1sen!2sus!4v1627319023151!5m2!1sen!2sus" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
                <!-- Add photo from Unsplash -->
                <img class="location-photo" src="https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&h=400&q=80" alt="Jazz Concert">
            </div>
            <div class="clue-hint">The melody brings an emotion that celebrates life...</div>
            <button class="reveal-question-btn">I'm Here, Show Me the Question!</button>
        </div>
        
        <!-- Quiz Container (initially hidden) -->
        <div class="quiz-container">
            <div class="quiz-question">How does this song make you feel?</div>
            <input type="text" class="quiz-input" data-answer="happy" data-alt-answers="loved,special,joy,joyful" placeholder="Type your answer...">
            <button class="quiz-submit">Submit</button>
            <div class="quiz-feedback"></div>
        </div>
        
        <div class="text">
            <h1>Here's a birthday song just for you</h1>
            <audio id="song" src="song.m4a" controls="controls"></audio>
        </div>
    </div>
    
    <!-- Easter Egg Section -->
    <div class="section fp-auto-height final_section">
        <!-- Clue component for the Easter Egg section -->
        <div class="clue-card">
            <div class="clue-title">Sausalito's Hidden Pathway</div>
            <div class="clue-content">
                On that hidden pathway in Sausalito, where we found those handmade artworks, I confessed something about my drawings. Though they weren't masterpieces, something else about them was absolutely perfect.
            </div>
            <!-- Media container with both map and photo -->
            <div class="location-media">
                <!-- Google Maps Embed -->
                <iframe class="location-map" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d12590.028723288127!2d-122.49542336980963!3d37.85883284450841!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x808585d240d5c81b%3A0x92cf8f427cdca79a!2sSausalito%2C%20CA%2094965!5e0!3m2!1sen!2sus!4v1627319139736!5m2!1sen!2sus" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
                <!-- Add photo from Unsplash -->
                <img class="location-photo" src="https://images.unsplash.com/photo-1548516173-3cabfa4607e9?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&h=400&q=80" alt="Sausalito Pathway">
            </div>
            <div class="clue-hint">Imperfect lines drawn with something flawless...</div>
            <button class="reveal-question-btn">I'm Here, Show Me the Question!</button>
        </div>
        
        <!-- Quiz Container (initially hidden) -->
        <div class="quiz-container">
            <div class="quiz-question">What is perfect even if the drawings aren't?</div>
            <input type="text" class="quiz-input" data-answer="love" data-alt-answers="your love,my love,our love,love for you" placeholder="Type your answer...">
            <button class="quiz-submit">Submit</button>
            <div class="quiz-feedback"></div>
        </div>
        
        <div>
            <h1><del>Secret Message</del></h1>
            <p>Okay, I know my drawings aren't perfect, but my love for you is!</p>
        </div>
    </div>
 </div>  
    
 <!-- jQuery v1.11.0 -->
<script src='js/jquery.js'></script>
<script type="text/javascript" src="js/jquery.fullPage.js"></script>
<script src="js/jquery.lazylinepainter-1.7.0.min.js"></script>
<script type="text/javascript" src="js/garden.js"></script>
<script type="text/javascript" src="js/functions.js"></script>
<script type="text/javascript" src="js/svg.js"></script>  
<script type="text/javascript" src="js/fireworks.js"></script>
<script type="text/javascript" src="js/index.js"></script>

<!-- FIX: Completely rewritten quiz functionality that won't conflict with existing code -->
<script>
$(document).ready(function() {
    console.log("Quiz button handler loading");
    
    // Remove any existing handlers to avoid duplication
    $('.reveal-question-btn').off('click');
    
    // Clean and direct approach to showing quizzes
    $('.reveal-question-btn').on('click', function() {
        console.log("Question button clicked");
        
        // Direct DOM references
        var button = $(this);
        var section = button.closest('.section');
        var quizContainer = section.find('.quiz-container');
        
        // Hide button immediately
        button.hide();
        
        // Use direct jQuery method to absolutely ensure visibility
        quizContainer.css({
            'display': 'block !important',
            'opacity': '1 !important',
            'visibility': 'visible !important'
        });
        
        // Force display through class and direct style
        quizContainer.addClass('show-quiz');
        quizContainer.attr('style', 'display: block !important');
        
        console.log("Quiz now visible");
    });
    
    // Answer validation with fixed handling
    $('.quiz-submit').off('click').on('click', function() {
        var submit = $(this);
        var quizContainer = submit.closest('.quiz-container');
        var input = quizContainer.find('.quiz-input');
        var feedback = quizContainer.find('.quiz-feedback');
        
        var userAnswer = input.val().trim().toLowerCase();
        var correctAnswer = input.data('answer').toLowerCase();
        var altAnswers = input.data('alt-answers') ? 
                        input.data('alt-answers').toLowerCase().split(',') : [];
        
        // Check for correct answer
        var isCorrect = userAnswer === correctAnswer || 
                       altAnswers.some(function(alt) { return userAnswer === alt.trim(); });
        
        if (isCorrect) {
            feedback.text('Correct! Moving to next section...').removeClass('incorrect').addClass('correct');
            
            // Disable input and button
            input.prop('disabled', true);
            submit.prop('disabled', true);
            
            // Move to next section after delay
            setTimeout(function() {
                $.fn.fullpage.moveSectionDown();
            }, 1500);
        } else {
            feedback.text('Try again!').removeClass('correct').addClass('incorrect');
            
            // Shake effect
            quizContainer.css('transform', 'translateX(10px)');
            setTimeout(function() {
                quizContainer.css('transform', 'translateX(-10px)');
                setTimeout(function() {
                    quizContainer.css('transform', 'translateX(0)');
                }, 100);
            }, 100);
        }
    });
    
    // Enable Enter key for answer submission
    $('.quiz-input').off('keypress').on('keypress', function(e) {
        if (e.which === 13) {
            e.preventDefault();
            $(this).closest('.quiz-container').find('.quiz-submit').click();
        }
    });
    
    // Make sure clue cards are visible with proper desktop sizing
    $('.clue-card').css({
        'visibility': 'visible',
        'opacity': '1'
    });
});
</script>
</body>
</html>